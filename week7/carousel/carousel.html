<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>土炮輪播</title>
  <link rel="stylesheet" href="./style.css">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  
</head>
<body>
  <div class="carousel">
    <img id="img1" class="carousel__img current" src="https://picsum.photos/id/123/500/300" alt="">
    <img id="img2" class="carousel__img right" src="https://picsum.photos/id/456/500/300" alt="">
    <img id="img3" class="carousel__img" src="https://picsum.photos/id/789/500/300" alt="">
    <img id="img4" class="carousel__img" src="https://picsum.photos/id/112/500/300" alt="">
    <img id="img5" class="carousel__img" src="https://picsum.photos/id/113/500/300" alt="">
    <img id="img6" class="carousel__img left" src="https://picsum.photos/id/114/500/300" alt="">


    <div class="carousel__left carousel__button">&lt;</div>
    <div class="carousel__right carousel__button">&gt;</div>
  </div>

  <script>
    const imgList = [...document.querySelectorAll('.carousel__img')]
    let currentImg = 0
    let leftImg = imgList.length - 1
    let rightImg = 1

    document.querySelector('.carousel').addEventListener('click', evt => {
      let holder = currentImg
      if (evt.target.classList.contains('carousel__right')) {
        imgList[currentImg].className = 'carousel__img left'
        imgList[rightImg].className = 'carousel__img current'
        currentImg = rightImg
        leftImg = holder
        if (rightImg + 1 > imgList.length - 1) {
          rightImg = 0
        }
        rightImg += 1
        imgList[rightImg].className = 'carousel__img right'
        return
      }
      if (evt.target.classList.contains('carousel__left')) {
        imgList[currentImg].className = 'carousel__img right'
        imgList[leftImg].className = 'carousel__img current'
        currentImg = leftImg
        rightImg = holder
        if (leftImg - 1 < 0) {
          leftImg = imgList.length - 1
        } 
        leftImg -= 1
        imgList[leftImg].className = 'carousel__img left'
        return
      }
    })

  </script>
</body>
</html>
